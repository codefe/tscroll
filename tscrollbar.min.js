/*! tScrollbar 1.0.0 http://travisup.com/ */
(function(){function r(t,n,r){var s=[],o=0,u,a;if(t.nodeType===1)return t;a=e.exec(t);if(a){if(u=a[1])return document.getElementById(u);if(u=a[2]){n=n||document;if(!r&&n.getElementsByClassName)s=n.getElementsByClassName(u);else{r=r||n.getElementsByTagName("*");for(;o<r.length;o++)if(r[o].nodeType===1&&i(r[o],u)){s.push(r[o]);break}}}}return s[0]||null}function i(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0}function s(e,t){i(e,t)||(e.className=a(e.className+" "+t+" "))}function o(e,t){e.className=a((" "+e.className+" ").replace(" "+t+" "," "))}function u(e,t,n){e.style[t]=n+"px"}function a(e){return(e||"").replace(t,"")}function f(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):document.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function l(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):document.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function c(e){return typeof e.pageX=="undefined"&&(e.pageX=e.clientX+(e&&e.scrollLeft||document.body.scrollLeft||0),e.pageY=e.clientY+(e&&e.scrollTop||document.body.scrollTop||0)),e.preventDefault=e.preventDefault||function(){window.event.returnValue=!1},e}function h(e,t){function T(){S?a.elem.ontouchstart=function(e){e.touches.length===1&&(C(e.touches[0]),e.stopPropagation())}:(f(v.elem,"mousedown",C),f(d.elem,"mouseup",k)),x.scroll&&(window.addEventListener?(e.addEventListener("DOMMouseScroll",N,!1),e.addEventListener("mousewheel",N,!1),e.addEventListener("MozMousePixelScroll",function(e){e.preventDefault()},!1)):e.onmousewheel=N)}function N(e){if(h.ratio<1){var e=c(e||window.event),t=e.wheelDelta?e.wheelDelta/120:-e.detail/3;m-=t*x.wheel,i.moveTo(m),(x.lockScroll||m!==h.slideSize&&m!==0)&&e.preventDefault()}}function C(e){s(n,"no-select"),x.onSelect&&(n.onselectstart=function(){return!1});var e=c(e||window.event),t=parseInt(v.elem.style[w]);y.start=b?e.pageX:e.pageY,g.start=t=="auto"?0:t,S?(document.ontouchmove=function(e){e.preventDefault(),k(e.touches[0])},document.ontouchend=L):(f(document,"mousemove",k),f(document,"mouseup",L),f(v.elem,"mouseup",L))}function k(e){if(h.ratio<1){var e=c(e||window.event);y.now=b?e.pageX:e.pageY,x.invertscroll&&S?g.now=Math.min(d.slideSize,Math.max(0,g.start+(y.start-y.now))):g.now=Math.min(d.slideSize,Math.max(0,g.start+(y.now-y.start))),m=g.now/d.ratio,u(v.elem,w,g.now),u(h.elem,w,-m)}}function L(){o(n,"no-select"),x.onSelect&&(n.onselectstart=null),l(document,"mousemove",k),l(document,"mouseup",L),l(v.elem,"mouseup",L),document.ontouchmove=document.ontouchend=null}function A(){T(),i.setting(t),i.update()}var i=this,a={elem:r(".viewport",null,e.childNodes)},h={elem:r(".wholearea",null,a.elem.childNodes)},p={elem:r(".scrollbar",null,e.childNodes)},d={elem:r(".scrollbar-track",p.elem)},v={elem:r(".scrollbar-thumb",p.elem)},m=0,g={start:0,now:0},y={start:0,now:0},b=!1,w="top",E="Height",S=typeof document.documentElement.ontouchstart!="undefined",x={scroll:!0,wheel:40,axis:"y",trackSize:"auto",thumbSize:"auto",thumbMinSize:10,lockScroll:!0,invertScroll:!1,onSelect:!0};return this.setting=function(e){var t;if(typeof e=="object"){for(t in x)typeof e[t]!="undefined"&&(x[t]=e[t]);b=x.axis==="x",w=b?"left":"top",E=b?"Width":"Height"}},this.update=function(e){var t=E.toLowerCase();a.size=a.elem["offset"+E],h.size=h.elem["scroll"+E],h.slideSize=Math.max(h.size-a.size,0),h.ratio=h.size==0?1:parseFloat(a.size)/h.size,h.ratio>=1?s(p.elem,"scrollbar-hide"):o(p.elem,"scrollbar-hide"),d.size=x.trackSize==="auto"?a.size:x.trackSize,v.size=x.thumbSize==="auto"?Math.max(d.size*h.ratio,x.thumbMinSize):x.thumbSize,d.slideSize=d.size-v.size,d.ratio=h.slideSize==0?1:parseFloat(d.slideSize)/h.slideSize,u(p.elem,t,d.size),u(d.elem,t,d.size),u(v.elem,t,v.size),typeof e!="undefined"&&(m=e==="bottom"?h.slideSize:parseInt(e)),i.moveTo(m)},this.moveTo=function(e){m=Math.min(h.slideSize,Math.max(0,e)),u(v.elem,w,m*d.ratio),u(h.elem,w,-m)},A(),this}var e=/^(?:#([\w-]+)|\.([\w-]+))$/,t=/(^\s+)|(\s+$)/g,n;window.tScrollbar=function(e,t){var i=r(e);return n=n||document.getElementsByTagName("body")[0],i?new h(i,t):!1}})();