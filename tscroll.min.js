/*! tScroll 2.0.0a http://travisup.com/ */
!function(){function f(b,d,e){var i,j,f=[],h=0;if(1===b.nodeType)return b;if(j=a.exec(b)){if(i=j[1])return c.getElementById(i);if(d=d||c,i=j[2])f=d.getElementsByTagName(i);else if(i=j[3])if(!e&&d.getElementsByClassName)f=d.getElementsByClassName(i);else for(e=e||d.getElementsByTagName("*");h<e.length;h++)if(1===e[h].nodeType&&g(e[h],i)){f.push(e[h]);break}}return f[0]||null}function g(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>=0}function h(a,b){g(a,b)||(a.className=k(a.className+" "+b+" "))}function i(a,b){a.className=k((" "+a.className+" ").replace(" "+b+" "," "))}function j(a,b,c){a.style[b]=c+"px"}function k(a){return(a||"").replace(b,"")}function l(a,b,d){window.addEventListener?a.addEventListener(b,d,!1):c.attachEvent?a.attachEvent("on"+b,d):a["on"+b]=d}function m(a,b,d){a.removeEventListener?a.removeEventListener(b,d,!1):c.detachEvent?a.detachEvent("on"+b,d):a["on"+b]=null}function n(a){return"undefined"==typeof a.pageX&&(a.pageX=a.clientX+(a&&a.scrollLeft||c.body.scrollLeft||0),a.pageY=a.clientY+(a&&a.scrollTop||c.body.scrollTop||0)),a.preventDefault=a.preventDefault||function(){window.event.returnValue=!1},a}function o(){return+new Date+Math.random().toString().substr(2,4)}function p(){return!1}function q(a,b){for(;b[0];)a.appendChild(b[0])}function s(a,b){function C(){e?k.elem.ontouchstart=function(a){1===a.touches.length&&(E(a.touches[0]),a.stopPropagation())}:(l(s.elem,"mousedown",E),l(r.elem,"mouseup",F)),B.scroll&&(window.addEventListener?(a.addEventListener("mousewheel",D,!1),a.addEventListener("DOMMouseScroll",D,!1),a.addEventListener("MozMousePixelScroll",function(a){a.preventDefault()},!1)):a.onmousewheel=D)}function D(a){if(o.ratio<1){var a=n(a||window.event),b=a.wheelDelta?a.wheelDelta/120:-(a.detail||0)/3;t-=b*B.wheel,g.moveTo(t),(B.lockScroll||t!==o.slideSize&&0!==t)&&a.preventDefault()}}function E(a){h(d,"tscroll_unselect"),B.onSelect&&(d.onselectstart=p);var a=n(a||window.event),b=parseInt(s.elem.style[x]);v.start=w?a.pageX:a.pageY,u.start=isNaN(b)?0:b,e?(c.ontouchmove=function(a){a.preventDefault(),F(a.touches[0])},c.ontouchend=G):(l(c,"mousemove",F),l(c,"mouseup",G),l(s.elem,"mouseup",G))}function F(a){if(o.ratio<1){var a=n(a||window.event);v.now=w?a.pageX:a.pageY,u.now=B.invertscroll&&e?Math.min(r.slideSize,Math.max(0,u.start+(v.start-v.now))):Math.min(r.slideSize,Math.max(0,u.start+(v.now-v.start))),t=u.now/r.ratio,j(s.elem,x,u.now),j(o.elem,x,-t)}}function G(){i(d,"tscroll_unselect"),B.onSelect&&(d.onselectstart=null),e?c.ontouchmove=c.ontouchend=null:(m(c,"mousemove",F),m(c,"mouseup",G),m(s.elem,"mouseup",G))}function H(a){var b=(0==a?B.wheel:-B.wheel)/1.2;t+=b,t>=0&&t<=o.slideSize&&(t=a),g.moveTo(t)}function I(){g.setting(b),C(),g.update()}var g=this,k={elem:f(".tscroll_view",null,a.childNodes)},o={elem:f(".tscroll_pane",null,k.elem.childNodes)},q={elem:f(".tscroll_bar",null,a.childNodes)},r={elem:f(".tscroll_track",q.elem)},s={elem:f(".tscroll_thumb",q.elem)},t=0,u={start:0,now:0},v={start:0,now:0},w=!1,x="top",y="Height",z=null,B={scroll:!0,wheel:40,axis:"y",trackSize:"auto",thumbSize:"auto",thumbMinSize:10,lockScroll:!0,invertScroll:!1,onSelect:!0,bounce:!1,callback:p};return this.scroll=t,this.direction=x,this.setting=function(a){var b;if("object"==typeof a){for(b in B)"undefined"!=typeof a[b]&&(B[b]=a[b]);w="x"===B.axis,y=w?"Width":"Height",x=w?"left":"top",g.direction=x,g.wheel=B.wheel}return g},this.update=function(a){var b=y.toLowerCase();return k.size=k.elem["offset"+y],o.size=o.elem["scroll"+y],o.slideSize=Math.max(o.size-k.size,0),o.ratio=0==o.size?1:parseFloat(k.size)/o.size,o.ratio>=1?h(q.elem,"tscroll_hide"):i(q.elem,"tscroll_hide"),r.size="auto"===B.trackSize?k.size:B.trackSize,s.size="auto"===B.thumbSize?Math.max(r.size*o.ratio,B.thumbMinSize):B.thumbSize,r.slideSize=r.size-s.size,r.ratio=0==o.slideSize?1:parseFloat(r.slideSize)/o.slideSize,j(q.elem,b,r.size),j(r.elem,b,r.size),j(s.elem,b,s.size),"undefined"!=typeof a&&(t="bottom"===a?o.slideSize:parseInt(a)),g.moveTo(t)},this.moveTo=function(a){var b,c;return t=Math.min(o.slideSize,Math.max(0,a)),b=t,B.bounce&&(0>a||a>o.slideSize)&&(c=t,clearTimeout(z),t=a,z=setTimeout(function(){H(c)},13)),j(s.elem,x,b*r.ratio),j(o.elem,x,-t),g.scroll=t,B.callback(g),g},I(),this}function t(a,b){var k,l,m,g=t,i=f(a),j=o();return null==d&&(d=f("body")),null==e&&(e="undefined"!=typeof c.documentElement.ontouchstart),null!=i?(k=i.getAttribute("data-tscroll"),k&&g.list[k]?g.list[k].update(0):(h(i,"tscroll"),i.setAttribute("data-tscroll",j),l=c.createDocumentFragment(),m=c.createElement("div"),m.innerHTML=r.join("").replace("{{content}}",""),q(l,m.childNodes),q(l.firstChild.firstChild,i.childNodes),i.appendChild(l),m=l=null,g.list[j]=new s(i,b))):!1}var d,e,a=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,b=/(^\s+)|(\s+$)/g,c=document,r=['<div class="tscroll_view">','<div class="tscroll_pane">',"{{content}}","</div>","</div>",'<div class="tscroll_bar tscroll_hide">','<div class="tscroll_track">','<div class="tscroll_thumb">','<div class="tscroll_thumb_end">',"</div>","</div>","</div>","</div>"];t.list={},window.tScroll=t,"function"==typeof define&&(define.amd?define("tScroll",[],function(){return t}):define.cmd&&define(function(){return t}))}();